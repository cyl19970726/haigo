# -------------------------
# Core Environment
# -------------------------
ENV=dev
APTOS_NETWORK=testnet
## Aptos Indexer GraphQL endpoint (used by BFF for event polling)
## APTOS_INDEXER_URL=https://indexer.testnet.aptoslabs.com/v1/graphql
APTOS_INDEXER_URL=https://api.testnet.aptoslabs.com/v1/graphql

# -------------------------
# Backend / BFF
# -------------------------
PORT=3001
HASURA_URL=http://localhost:8080/v1/graphql
MEDIA_ROOT=./storage/media

# Aptos Fullnode REST (POC fallback to fetch txn hash/timestamp)
# Testnet public fullnode:
# APTOS_NODE_API_URL=https://fullnode.testnet.aptoslabs.com/v1
## Aptos Fullnode REST endpoint; when using API keys prefer Aptos Labs endpoint
APTOS_NODE_API_URL=https://api.testnet.aptoslabs.com/v1
# Aptos API key (kept local). Will be sent as both Authorization: Bearer and x-aptos-api-key
APTOS_NODE_API_KEY=aptoslabs_6vnD4nC43ZS_5xRN5reHEyVtyjyTVJk6p53b8Dek49xB6

# Account registration listener controls
# Poll interval in milliseconds (30s recommended for POC)
ACCOUNT_INGESTOR_INTERVAL_MS=30000
# Max events per GraphQL fetch (smaller saves CU and avoids 429; POC=25)
ACCOUNT_INGESTOR_PAGE_SIZE=25
# Limit how many pages to fetch per tick (avoid burst CU consumption)
ACCOUNT_INGESTOR_MAX_PAGES_PER_TICK=1
# Start from latest ledger version if no cursor is stored (skip backfill from genesis)
ACCOUNT_INGESTOR_START_FROM_LATEST=true
# Optional: subtract N versions from latest to cover a small backfill window
ACCOUNT_INGESTOR_BACKFILL_OFFSET_VERSIONS=0

# -------------------------
# Database
# -------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=haigo
POSTGRES_PASSWORD=haigo
POSTGRES_DB=haigo

# -------------------------
# Frontend Exposure
# -------------------------
NEXT_PUBLIC_BFF_URL=http://localhost:3001
NEXT_PUBLIC_HASURA_URL=http://localhost:8080/v1/graphql
NEXT_PUBLIC_APTOS_MODULE=0x1ed10a68a46e43e0e3edd1ada8a001f93b812f228c4b2e71fa519f05dbfa0583

# -------------------------
# Storage Providers
# -------------------------
STORAGE_BUCKET=local-media
STORAGE_ENDPOINT=http://localhost:9000
NEXT_PUBLIC_APTOS_ORDERS_MODULE=0x1ed10a68a46e43e0e3edd1ada8a001f93b812f228c4b2e71fa519f05dbfa0583
