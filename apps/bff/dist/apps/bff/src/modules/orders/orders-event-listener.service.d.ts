import { OnModuleDestroy, OnModuleInit } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { OrdersService } from './orders.service.js';
import { MetricsService } from '../metrics/metrics.service.js';
export declare class OrdersEventListener implements OnModuleInit, OnModuleDestroy {
    private readonly config;
    private readonly orders;
    private readonly metrics?;
    private readonly logger;
    private pollHandle;
    private isPolling;
    private lastTxnVersion;
    private lastEventIndex;
    private readonly indexerUrl;
    private readonly nodeApiUrl;
    private readonly aptosApiKey;
    private readonly pageSize;
    private readonly pollingInterval;
    private readonly maxPagesPerTick;
    private readonly startFromLatest;
    private readonly backfillOffsetVersions;
    private cooldownUntilMs;
    private backoffMs;
    constructor(config: ConfigService, orders: OrdersService, metrics?: MetricsService | undefined);
    onModuleInit(): Promise<void>;
    onModuleDestroy(): Promise<void>;
    private startPolling;
    private stopPolling;
    private pollOnce;
    private fetchEvents;
    private deriveBackoff;
    private fetchLatestLedgerVersion;
    private bootstrapCursor;
    private processEvent;
    private resolveTxnMetaByVersion;
}
