> ### 需求背景与上下文

  当前 docs/architecture/ 中的文档多为概念性描述，缺乏与真实代码之间的直接映射，导致后续开发
  和协作时难以根据文档快速定位实现细节或预留的开发位。随着 PoC 逐步落地，我们需要一个以“代码锚
  点（Anchor）”为核心的文档体系，让团队能把架构决策、实现状态和未来计划精准对应到具体文件与函
  数上。

  ### 总体目标

  建立新的架构文档树 @docs/arch/，所有内容围绕 Anchor 编排：每个模块、数据结构、API、事件流都指
  向实际的代码路径与行号（已实现）或明确规划的文件位置（未实现）。这样，文档即代码的索引；后续
  开发任务、代码评审、运维部署都以此为准绳，避免“文档与实现脱节”的问题。

  ### 文档结构与顺序

  在 @docs/arch/ 下创建并维护以下文档，遵循你指定的顺序：
   0-goal 架构目标
  1. 1-packages.md（原 high-level + package-architecture 合并）
      - 保留现有的包结构、目录架构、包配置说明，并按 Anchor 方式补充引用。
  2. 2-operations.md（原第 8）
      - 运维/部署指南：环境、Docker 化部署（PoC 阶段明确不依赖云服务）、CI/CD、监控告警。
  3. 3-global-architecture-diagram.md（原第 10）
      - 完整架构图，标注前端、BFF、Move、Indexer、Fullnode、数据库之间的关系与 Anchor。
  4. data-flows.md（原第 9）
      - 场景化数据流图
  5. share-types.md（原第 4）
      - 共享数据结构、API、事件定义，引用 packages/shared/ 下的 DTO 等文件；未实现的类型标明目
  标路径。
  6. contracts.md（原第 7）
      - Move 模块 Anchor：核心 entry fun、事件、struct，直接引用 move/sources/**/*.
  7. bff.md（原第 6）
  8. 前端页面 
     - 前端模块文档：列出核心组件/Hook/页面锚点，说明与 BFF/钱包/Fullnode 的交互接口。
  9. 开发流程
    - 团队开发流程说明：如何依据 Anchor 拆 Story、提交 PR、同步文档、验证测试。
  9. index.md

### 原则
    3. 锚点写法与覆盖范围
      - 每个锚点必须引用实际代码：路径:行号（现有代码）或 “未来目标路径”。
      - 模块之间的交互（API、事件、抽象类）要明确在哪个函数/文件实现或计划实现。
      - 同时核心代码要直接在文档里体现，如果未来实现过程中，实际代码需要修改，也要对应修改文档中的实现
      - 核心代码指 核心数据结构 核心接口 展示模块内子模块的交互 以及跨模块交互的代码
  4. 架构图和数据流
      - 绘制统一的架构图（前端/钱包/BFF/Indexer/Fullnode/数据库），并在图注中指向锚点。
      - 数据流文档用于规划开发，每条数据流都要和对应的锚点、场景编号关联，后续开发按此拆分
  任务。
  5. 总体目标
      - 构建一个“文档 ↔ 代码”一一对应的系统，后续开发、测试、运维都以锚点为依据。
      - 分享的数据结构、接口在 share-types.md 中定义，供所有模块引用。
      - 文档既描述当前实现，也标注未来要落地的位置，保持架构与实现同步。


  ### 迁移与技术约束

  - 将现有 docs/architecture/ 内容按上述结构迁移到 @docs/arch/，保留有价值的原文段落（尤其是包
  结构和目录说明），并对照当前代码增加 Anchor 引用。
  - 部署/运维描述限定为 PoC 阶段的 Docker 化方案，不涉及云服务。
  - 所有新文档都必须引用实际代码位置（路径:行号）；尚未实现的内容说明未来要放在哪个目录/文件。
  - 数据流文档将作为后续开发计划的基础，每个流对应一个完整的任务单元。

  ### 需求背后的动机
  - 支撑任务拆分与进度管理：数据流文档直接映射开发故事（Story），便于规划与跟踪。
  - 控制架构演进的复杂度：每次扩展或修改都先更新锚点文档，再编码，实现“文档先行、实现同步”的节
  奏，避免再次陷入“设计模糊 → 实现困难”的死胡同。

  完成上述体系后，@docs/arch/ 将成为项目的“北极星”文档：既能回溯当前实现，也能规划未来演进，让
  团队在 PoC 阶段乃至后续版本都能有据可依。ß